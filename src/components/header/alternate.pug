mixin the-header-build
	.padd-md
		.header-component.header-text.relative.padd-md.ng-cloak(
			ng-mouseleave="ctrl.anchorOn(ctrl.active) + ctrl.toSquare()" 
			ng-mouseenter="ctrl.toDiamond()")
			+the-wavebeam
			+a-row-of-links

mixin wave
	svg.abs-cover.dim-cover.header-wave(view-box-fit, preserveAspectRatio='none')&attributes(attributes)
		path.top.no-fill(relative-d="M 0 50% L 50% 0 L 100% 50%" 
		relative-dash 
		relative-dash-size="{{tween.T}}%" 
		relative-dash-position="{{-(50 - tween.T/2)}}%"
		)
mixin wave-2
	svg.abs-cover.dim-cover.header-wave(view-box-fit, preserveAspectRatio='none')&attributes(attributes)
		path.wave-2.top.no-fill(relative-d="M {{50-tween.T * 0.5}}% {{tween.T * 0.5}}% L 50% 0 L {{50 + tween.T * 0.5}}% {{tween.T * 0.5}}%" )
mixin the-wavebeam
	#wavebeam.abs-cover.hidden-xs(ng-class=`{
	'as-diamond': ctrl.tween === 0,
	'into-square': !ctrl.animation.reversed()
	}`)
		svg.abs-cover.dim-cover.header-wave(view-box-fit, preserveAspectRatio='none')
			path.top.no-fill(relative-d="{{ctrl.path}}" 
			relative-dash 
			relative-dash-size="{{ctrl.dashSize}}" 
			relative-dash-position="{{ctrl.dashPosition}}")
		svg.abs-cover.dim-cover.origin-center.reflect-y(view-box-fit, preserveAspectRatio='none')
			path.bottom.no-fill(relative-d="{{ctrl.path}}" 
			relative-dash 
			relative-dash-size="{{ctrl.dashSize}}" 
			relative-dash-position="{{ctrl.dashPosition}}")
		svg#ghost-path.abs-cover.dim-cover.invisible(view-box-fix, preserveAspectRatio="none")
			path.ghost.no-fill(relative-d="{{ctrl.path}}")

mixin a-row-of-links
	.row
		.col-sm-3(ng-repeat="link in ctrl.links")
			+a-header-link
mixin a-header-link
	my-tween(
	to=100
	duration=1
	repeat='-1'
	start-paused='false'
	yoyo='true')
		//- +wave-2
		//- +wave
		.clicker.will-move-gpu(
			ng-class="{outline: ctrl.isActive(link)}"
			ng-click="ctrl.activateLink(link)"
			ng-mouseenter="ctrl.anchorOn(link)"
		)
			+a-header-text
				|{{link}}
mixin a-header-text
	div(class=`
	txt-center	
	padd-md	
	font-md	
	uppercase	
	dense	
	no-highlight	
	pointer	
	underline
		`)&attributes(attributes)
		block
+the-header-build