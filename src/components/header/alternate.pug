include ../paths/



mixin the-header-build
	.padd-md
		.header-component.header-text.relative.padd-md.ng-cloak(
			ng-mouseleave="ctrl.anchorOn(ctrl.active) + ctrl.toSquare()" 
			ng-mouseenter="ctrl.toDiamond()")
			+the-wavebeam
			+a-row-of-links

mixin wave-path 
	svg.abs-cover.dim-cover.header-wave(view-box-fit, preserveAspectRatio='none')&attributes(attributes)
		path.no-fill(relative-d="{{ctrl.path}}" 
		relative-dash 
		relative-dash-size="{{ctrl.dashSize}}" 
		relative-dash-position="{{ctrl.dashPosition}}")

mixin the-wavebeam
	#wavebeam.abs-cover.hidden-xs(ng-class=`{
	'as-diamond': ctrl.tween === 0,
	'into-square': !ctrl.animation.reversed()
	}`)
		+wave-path.top
		+wave-path.bottom.origin-center.reflect-y
		svg#ghost-path.abs-cover.dim-cover.invisible(view-box-fix, preserveAspectRatio="none")
			path.ghost.no-fill(relative-d="{{ctrl.path}}")

mixin a-row-of-links
	.row
		.col-sm-3(ng-repeat="link in ctrl.links")
			+a-header-link
mixin links-tween
	//- my-tween(
	//- 	to=100
	//- 	duration=1
	//- 	start-paused='false'
	//- 	yoyo='true'
	//- 	)
	block
mixin a-header-link
	+links-tween
		.clicker.will-move-gpu(
			ng-class="{outline: ctrl.isActive(link)}"
			ng-click="ctrl.activateLink(link)"
			ng-mouseenter="ctrl.anchorOn(link)"
		)
			+a-header-text
				|{{link}}
		//- +wave-2
		//- +wave
mixin a-header-text
	div(class=`
	txt-center	
	padd-md	
	font-md	
	uppercase	
	dense	
	no-highlight	
	pointer	
	underline
		`)&attributes(attributes)
		block
+the-header-build
+special-beam-cannon